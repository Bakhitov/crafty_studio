// Centralized prompt templates for generating text posts, images, audio and video
// These are plain TypeScript exports (no React rendering here)

export type TemplateModality = 'post' | 'image' | 'audio' | 'video'

export interface TemplateMeta {
  title: string
  description?: string
  locale?: string
}

export interface PromptTemplate {
  id: string
  modality: TemplateModality
  label: string
  meta?: TemplateMeta
  /**
   * Human-readable, detailed prompt body that will be inserted into the chat input.
   * Keep it actionable and structured for best model performance.
   */
  prompt: string
}

export const POST_TEMPLATE: PromptTemplate = {
  id: 'tpl-post-v1',
  modality: 'post',
  label: 'Шаблон генерации поста',
  meta: {
    title: 'Пост (соцсети/блог)',
    description: 'Структурированный бриф для создания сильного поста под платформу',
    locale: 'ru',
  },
  prompt: [
    'Роль: Ты — универсальный генератор контента, совместимый с современными LLM (GPT, Claude, Gemini, Llama и др.).',
    'Задача: Сформируй готовый пост по брифу ниже. Если каких-то данных нет — оставь плейсхолдеры в фигурных скобках и не выдумывай фактов.',
    '',
    'Входные параметры:',
    '- Аудитория: {Аудитория}',
    '- Платформа: {Платформа} (например: Instagram, Telegram, LinkedIn, X/Twitter)',
    '- Цель: {Цель} (например: вовлечение, конверсии, узнаваемость)',
    '- Тема/контекст: {Тема}',
    '- Тон/стиль: {Тон} (например: дружелюбный, экспертный, дерзкий, вдохновляющий)',
    '- Язык: {Язык}',
    '- Длина: {Длина} (например: короткий, средний, до 1200 знаков)',
    '- Ограничения/запреты: {Ограничения}',
    '',
    'Требования к содержанию:',
    '- Короткий заголовок/хук: 1–2 варианта (до 70 символов), без кликбейта.',
    '- Завязка: 1–2 предложения, обозначь боль/интерес и обещай ценность.',
    '- Основной блок: 3–6 тезисов/мини-абзацев с конкретикой и пользой.',
    '- Пример/кейс (если уместно).',
    '- CTA: одна чёткая призывная формулировка.',
    '- Хештеги: 5–12 релевантных, без спама и повторов.',
    '',
    'Правила оформления:',
    '- Пиши на {Язык} и придерживайся {Тон}. Избегай канцелярита и воды.',
    '- Формат вывода: Markdown. Без преамбул, внутренних комментариев и дисклеймеров.',
    '',
    'Формат результата (секции):',
    'Заголовки:\n- вариант 1\n- вариант 2',
    'Основной текст:\n{Текст}',
    'CTA: {Призыв}',
    'Хештеги: #тег1 #тег2 #тег3 #тег4 #тег5',
  ].join('\n'),
}

export const IMAGE_TEMPLATE: PromptTemplate = {
  id: 'tpl-image-v1',
  modality: 'image',
  label: 'Шаблон генерации изображения',
  meta: {
    title: 'Изображение (генеративная графика)',
    description: 'Детальный промпт со стилем, композицией и техническими параметрами',
    locale: 'ru',
  },
  prompt: [
    'Роль: Ты — инженер промптов для моделей изображения (SDXL, Midjourney, DALL·E, Playground, FLUX и др.).',
    'Задача: Сформируй лаконичный, насыщенный деталями итоговый промпт для генерации изображения. Если модель поддерживает негатив-промпт и параметры — добавь соответствующие строки.',
    '',
    'Входные параметры:',
    '- Сцена/объект: {Сцена}',
    '- Стиль/жанр: {Стиль} (фотореализм, студийный портрет, минимализм, акварель, киберпанк и т.п.)',
    '- Композиция/ракурс: {Композиция} (крупный план, низкая точка, правило третей, симметрия)',
    '- Свет/окружение: {Свет} (мягкий, контровой, golden hour, неон, студийный)',
    '- Палитра/настроение: {Палитра} / {Настроение}',
    '- Камера/оптика (опционально): {Оптика} (85mm f/1.8, ISO 100, DOF)',
    '- Материалы/текстуры (опционально): {Материалы}',
    '- Детализация: {Детализация} (например: highly detailed, intricate)',
    '- Негативные элементы: {Негатив} (что исключить: артефакты, лишние пальцы, размытость и т.п.)',
    '- Геометрия: аспект {Аспект} (1:1, 3:4, 16:9), размер {Разрешение}',
    '',
    'Правила:',
    '- Без преамбул и комментариев, максимум конкретики, минимум служебных слов.',
    '- Используй существительные и прилагательные вместо общих формулировок, избегай местоимений.',
    '',
    'Формат результата:',
    'PROMPT: {итоговый_промпт_в_одной_или_двух_строках}',
    'NEGATIVE: {негатив-промпт}  (эту строку выведи только если уместно/поддерживается)',
    'PARAMS: aspect={Аспект}; size={Разрешение}; quality=high; seed={Seed?}; guidance={Guidance?}  (эту строку выведи только если уместно/поддерживается)',
  ].join('\n'),
}

export const AUDIO_TEMPLATE: PromptTemplate = {
  id: 'tpl-audio-v1',
  modality: 'audio',
  label: 'Шаблон генерации аудио',
  meta: {
    title: 'Аудио (голос/музыка/SFX)',
    description: 'Задание для синтеза голоса, музыки или эффектов со всеми параметрами',
    locale: 'ru',
  },
  prompt: [
    'Роль: Ты — инженер промптов для аудио (TTS, музыка, SFX) совместимый с современными моделями.',
    'Задача: Подготовь краткий итоговый промпт и перечисли параметры. Если некоторых полей нет — оставь плейсхолдеры и не выдумывай.',
    '',
    'Входные параметры:',
    '- Режим: {Режим} (TTS | Музыка | SFX)',
    '- Назначение: {Назначение} (ролик, подкаст-вступление, реклама, фон и т.п.)',
    '- Язык: {Язык}',
    '- Голос/тембр (для TTS): {Голос} (пол, возраст, акцент, тембр)',
    '- Произнесение (для TTS): {Произнесение} (темп, паузы, ударения, эмоция)',
    '- Текст/контент (TTS) или описание (Музыка/SFX): {Текст}',
    '- Жанр/настроение: {Жанр}/{Настроение}',
    '- Музыка: {BPM} BPM, {Тональность}, размер {Размер} (если применимо)',
    '- Инструменты/саунд-дизайн: {Инструменты}',
    '- Длительность: {Длительность} (например: 00:15, 00:30, 01:00)',
    '- Технические требования: формат {Формат} (wav/mp3), частота {Частота} Гц, битность {Битность} бит, каналы {Каналы}',
    '',
    'Формат результата:',
    'PROMPT: {краткий_итоговый_промпт}',
    'PARAMS: mode={Режим}; language={Язык}; voice={Голос}; delivery={Произнесение}; genre={Жанр}; mood={Настроение}; bpm={BPM}; key={Тональность}; duration={Длительность}; format={Формат}; rate={Частота}; bitdepth={Битность}; channels={Каналы}; seed={Seed?}',
    '(Выведи только релевантные поля для выбранного режима; лишние опусти.)',
  ].join('\n'),
}

export const VIDEO_TEMPLATE: PromptTemplate = {
  id: 'tpl-video-v1',
  modality: 'video',
  label: 'Шаблон генерации видео',
  meta: {
    title: 'Видео (скрипт/шоты/монтаж)',
    description: 'Структурированный бриф: сцены, кадры, графика, субтитры и звук',
    locale: 'ru',
  },
  prompt: [
    'Роль: Ты — инженер промптов/нарративов для видео (Runway, Luma, Pika, Kling, Minimax и др.).',
    'Задача: Подготовь краткий сценарий с чёткими сценами. Если уместно — добавь сводные параметры. Не выдумывай фактов, оставляй плейсхолдеры.',
    '',
    'Входные параметры:',
    '- Цель: {Цель}',
    '- Аудитория: {Аудитория}',
    '- Площадка/формат: {Площадка} (Shorts/Reels/TikTok/YouTube)',
    '- Длительность: {Длительность} (например: 00:15, 00:30, 01:00)',
    '- Аспект: {Аспект} (9:16, 1:1, 16:9)',
    '- Тон/стиль: {Тон}',
    '- Тема/ключевая идея: {Тема}',
    '- Визуальные референсы (опционально): {Референсы}',
    '',
    'Формат результата:',
    'HOOK (0–2с): {сильная_завязка}',
    'СЦЕНЫ (3–8):',
    '- [00:00–00:03] Кадр: {тип_кадра}; Камера: {движение/ракурс}; Действие: {описание}; B-roll: {если есть}; Графика/титры: {если есть}; Текст/озвучка: {фраза}.',
    '- [00:03–00:06] Кадр: {тип_кадра}; Камера: {движение/ракурс}; Действие: {описание}; B-roll: {если есть}; Графика/титры: {если есть}; Текст/озвучка: {фраза}.',
    '...',
    'ЗВУК/МУЗЫКА: жанр/темп/настроение, ключевые акценты и паузы.',
    'ЦВЕТ/VFX (опционально): {референс цветокоррекции/VFX}.',
    'CTA: {конечный_призыв}.',
    'PARAMS: aspect={Аспект}; duration={Длительность}; style={Тон}; soundtrack={Жанр/Настроение}; fps={FPS?}  (эту строку выведи только если уместно/поддерживается)',
  ].join('\n'),
}

export const TEMPLATES: Record<TemplateModality, PromptTemplate> = {
  post: POST_TEMPLATE,
  image: IMAGE_TEMPLATE,
  audio: AUDIO_TEMPLATE,
  video: VIDEO_TEMPLATE,
}

export function getTemplateText(modality: TemplateModality): string {
  return TEMPLATES[modality].prompt
}